# ============================================================
# Default values for ecom Helm chart
# Running on: EC2 self-managed Kubernetes
# Access: NodePort (no cloud load balancer needed)
# ============================================================

namespace: ecom

replicaCount:
  frontend: 2
  backend: 2
  mongodb: 1

image:
  frontend:
    repository: ajaydev05/ecom-frontend
    tag: latest
    pullPolicy: Always
  backend:
    repository: ajaydev05/ecom-backend
    tag: latest
    pullPolicy: Always
  mongodb:
    repository: mongo
    tag: "6.0"
    pullPolicy: IfNotPresent

service:
  frontend:
    type: NodePort
    port: 80
    targetPort: 3000
    nodePort: 30007       # http://<EC2-IP>:30007
  backend:
    type: ClusterIP
    port: 5000
  mongodb:
    type: ClusterIP
    port: 27017

resources:
  frontend:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "300m"
      memory: "256Mi"
  backend:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  mongodb:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"

mongodb:
  username: admin
  password: password
  database: ecomdb

env:
  nodeEnv: production
  apiUrl: "http://ecom-backend-svc:5000"
